# 미국 대형주 2배 레버리지 ETF 자동매매 봇

## 프로젝트 개요
테슬라(TSLA), 엔비디아(NVDA) 등 미국 대형주 2배 레버리지 ETF를 대상으로 하는 자동매매 시스템

## 주요 기능
- **운용주기**: Daily (오후 5시 ~ 새벽 5시)
- **손익 기준**: 손절 -3%, 익절 +6~7%
- **기대수익**: 하루 1~3% 목표
- **포지션 관리**: 최대 1.5일 유지 (익일 오전 매도)
- **기술적 지표**: RSI/MACD 기반 매매 신호
- **자동 매도**: 조건형 트리거 (가격 기준)

## 프로젝트 구조
```
trading_bot/
├── config/
│   └── settings.py          # 설정 파일
├── data/
│   └── data_fetcher.py      # 데이터 수집 모듈
├── strategy/
│   └── indicators.py        # 기술적 지표 계산
│   └── signal_generator.py # 매매 신호 생성
├── trading/
│   └── trader.py            # 거래 실행 모듈
│   └── position_manager.py  # 포지션 관리
├── utils/
│   └── logger.py            # 로깅 유틸리티
│   └── scheduler.py         # 스케줄러
├── main.py                  # 메인 봇 실행 파일
├── test_bot.py              # 테스트 코드
└── requirements.txt         # 의존성 패키지
```

## 설치 방법
```bash
cd ~/trading_bot
pip install -r requirements.txt
```

## 설정
`config/settings.py`에서 API 키 및 거래 설정을 수정하세요.

## 실행 방법
```bash
# backtest
python reversal_backtest.py
# 테스트 모드
python test_bot.py

# 실제 거래 모드
python main.py
```

## 주의사항
- 실제 거래 전 반드시 모의 거래로 테스트하세요
- API 키는 안전하게 관리하세요
- 레버리지 거래는 고위험 투자입니다

## Result
``` bash
025-12-03 22:37:47 - trading_bot - INFO - 전환 매매 전략 초기화: {'symbol': 'NVDA', 'capital': 1200, 'stop_loss_rate': -0.03, 'take_profit_rate': 0.1, 'reverse_trigger': True, 'reverse_mode': 'full', 'reverse_delay': 5, 'reverse_risk_factor': 0.8, 'long_max_hold_days': 2, 'short_max_hold_days': 1, 'lookback_window': 5, 'volatility_threshold': 0.1, 'cooldown_period': 1, 'reversal_limit': 2, 'max_drawdown': 0.1, 'trailing_stop': True, 'reverse_confirmation': True, 'price_momentum': 0.02, 'volume_threshold': 0.4, 'market_sentiment_index': 0.0}

🚀 전환 매매 전략 백테스트 시작
   원본 주식: NVDA
   롱 ETF: NVDX
   숏 ETF: NVDQ
   기간: 2024-11-01 ~ 2025-11-29
   간격: 2m


======================================================================
전환 매매 전략 백테스트 시작
원본 주식: NVDA -> NVDX/NVDQ
기간: 2024-11-01 ~ 2025-11-29
초기 자본: $1200.00
======================================================================

데이터 수집 중...
✅ 데이터 수집 완료: 원본 5759개, 롱 5751개, 숏 5606개

📉 [2025-10-17 11:30] NVDA -> NVDQ 숏 진입 @ $19.37 x 58.85
2025-12-03 22:37:50 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:37:55 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $19.37 $18.76 (손익: -3.15%)
2025-12-03 22:37:55 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $18.28 x 48.40
🔄 [2025-10-17 14:22] 전환 매매: NVDQ -> NVDX
2025-12-03 22:37:55 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-20 09:30] NVDX LONG 청산 @ $18.28 $18.01 (손익: -1.48%) - FORCE_CLOSE
📉 [2025-10-20 09:34] NVDA -> NVDQ 숏 진입 @ $19.05 x 57.40
2025-12-03 22:37:56 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-22 09:30] NVDQ SHORT 청산 @ $19.05 $19.27 (손익: 1.13%) - FORCE_CLOSE
📉 [2025-10-22 09:36] NVDA -> NVDQ 숏 진입 @ $19.34 x 57.15
2025-12-03 22:37:57 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:02 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $19.34 $18.65 (손익: -3.54%)
2025-12-03 22:38:02 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $18.32 x 46.64
🔄 [2025-10-24 09:30] 전환 매매: NVDQ -> NVDX
2025-12-03 22:38:03 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-10-27 09:30] NVDX LONG 청산 @ $18.32 $19.47 (손익: 6.28%) - FORCE_CLOSE
📈 [2025-10-27 09:40] NVDA -> NVDX 롱 진입 @ $19.59 x 57.13
🔒 [2025-10-28 15:04] NVDX LONG 청산 @ $19.59 $21.59 (손익: 10.23%) - TAKE_PROFIT
📈 [2025-10-28 15:16] NVDA -> NVDX 롱 진입 @ $21.76 x 56.43
🔒 [2025-10-29 09:58] NVDX LONG 청산 @ $21.76 $24.07 (손익: 10.59%) - TAKE_PROFIT
📉 [2025-10-29 10:00] NVDA -> NVDQ 숏 진입 @ $13.83 x 97.72
🔒 [2025-10-30 09:36] NVDQ SHORT 청산 @ $13.83 $15.29 (손익: 10.57%) - TAKE_PROFIT
📉 [2025-10-30 09:42] NVDA -> NVDQ 숏 진입 @ $15.15 x 98.17
2025-12-03 22:38:06 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:11 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $15.15 $14.64 (손익: -3.37%)
2025-12-03 22:38:11 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $22.82 x 50.47
🔄 [2025-10-31 09:30] 전환 매매: NVDQ -> NVDX
2025-12-03 22:38:11 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-01 09:30:00-04:00
🔒 [2025-10-31 12:40] NVDX LONG 청산 @ $22.82 $22.05 (손익: -3.37%) - STOP_LOSS
📉 [2025-10-31 12:48] NVDA -> NVDQ 숏 진입 @ $15.07 x 93.08
2025-12-03 22:38:12 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:17 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $15.07 $14.22 (손익: -5.67%)
2025-12-03 22:38:17 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $23.33 x 45.51
🔄 [2025-11-03 09:30] 전환 매매: NVDQ -> NVDX
2025-12-03 22:38:17 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:22 - trading_bot - INFO - 포지션 청산: NVDX LONG @ $23.33 $21.95 (손익: -5.92%)
2025-12-03 22:38:22 - trading_bot - INFO - 🔄 전환 매매 실행: NVDQ -> NVDQ (SHORT) @ $15.12 x 67.06
🔄 [2025-11-04 09:30] 전환 매매: NVDX -> NVDQ
2025-12-03 22:38:24 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-06 09:30] NVDQ SHORT 청산 @ $15.12 $16.12 (손익: 6.64%) - FORCE_CLOSE
📉 [2025-11-06 09:32] NVDA -> NVDQ 숏 진입 @ $15.91 x 83.69
🔒 [2025-11-06 12:20] NVDQ SHORT 청산 @ $15.91 $17.52 (손익: 10.11%) - TAKE_PROFIT
📉 [2025-11-06 12:32] NVDA -> NVDQ 숏 진입 @ $17.53 x 83.25
2025-12-03 22:38:25 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:30 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $17.53 $16.28 (손익: -7.13%)
2025-12-03 22:38:30 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $20.06 x 54.26
🔄 [2025-11-10 09:30] 전환 매매: NVDQ -> NVDX
2025-12-03 22:38:31 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:36 - trading_bot - INFO - 포지션 청산: NVDX LONG @ $20.06 $19.44 (손익: -3.09%)
2025-12-03 22:38:36 - trading_bot - INFO - 🔄 전환 매매 실행: NVDQ -> NVDQ (SHORT) @ $16.51 x 64.37
🔄 [2025-11-11 10:52] 전환 매매: NVDX -> NVDQ
2025-12-03 22:38:37 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-13 09:30] NVDQ SHORT 청산 @ $16.51 $16.78 (손익: 1.63%) - FORCE_CLOSE
📉 [2025-11-13 09:48] NVDA -> NVDQ 숏 진입 @ $17.17 x 78.34
2025-12-03 22:38:39 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:44 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $17.17 $16.65 (손익: -3.03%)
2025-12-03 22:38:44 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $19.17 x 54.52
🔄 [2025-11-14 14:46] 전환 매매: NVDQ -> NVDX
2025-12-03 22:38:44 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:49 - trading_bot - INFO - 포지션 청산: NVDX LONG @ $19.17 $18.16 (손익: -5.29%)
2025-12-03 22:38:49 - trading_bot - INFO - 🔄 전환 매매 실행: NVDQ -> NVDQ (SHORT) @ $17.54 x 57.19
🔄 [2025-11-17 09:30] 전환 매매: NVDX -> NVDQ
2025-12-03 22:38:49 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-18 09:30:00-05:00
🔒 [2025-11-17 09:50] NVDQ SHORT 청산 @ $17.54 $16.98 (손익: -3.19%) - STOP_LOSS
📈 [2025-11-17 09:56] NVDA -> NVDX 롱 진입 @ $18.63 x 65.67
2025-12-03 22:38:49 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-18 09:30:00-05:00
🔒 [2025-11-17 14:02] NVDX LONG 청산 @ $18.63 $18.05 (손익: -3.11%) - STOP_LOSS
📉 [2025-11-17 14:08] NVDA -> NVDQ 숏 진입 @ $17.54 x 67.69
2025-12-03 22:38:50 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-19 09:30] NVDQ SHORT 청산 @ $17.54 $17.90 (손익: 2.05%) - FORCE_CLOSE
📈 [2025-11-19 10:02] NVDA -> NVDX 롱 진입 @ $18.42 x 65.73
2025-12-03 22:38:51 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:38:56 - trading_bot - INFO - 포지션 청산: NVDX LONG @ $18.42 $17.82 (손익: -3.23%)
2025-12-03 22:38:56 - trading_bot - INFO - 🔄 전환 매매 실행: NVDQ -> NVDQ (SHORT) @ $17.81 x 52.70
🔄 [2025-11-19 12:04] 전환 매매: NVDX -> NVDQ
2025-12-03 22:38:56 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-20 12:04:00-05:00
🔒 [2025-11-19 15:18] NVDQ SHORT 청산 @ $17.81 $17.24 (손익: -3.20%) - STOP_LOSS
📈 [2025-11-19 15:22] NVDA -> NVDX 롱 진입 @ $18.25 x 62.71
2025-12-03 22:38:56 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:39:01 - trading_bot - INFO - 포지션 청산: NVDX LONG @ $18.25 $17.68 (손익: -3.17%)
2025-12-03 22:39:01 - trading_bot - INFO - 🔄 전환 매매 실행: NVDQ -> NVDQ (SHORT) @ $17.88 x 49.67
🔄 [2025-11-20 12:12] 전환 매매: NVDX -> NVDQ
🔒 [2025-11-21 10:34] NVDQ SHORT 청산 @ $17.88 $19.76 (손익: 10.51%) - TAKE_PROFIT
📉 [2025-11-21 10:42] NVDA -> NVDQ 숏 진입 @ $19.64 x 61.04
2025-12-03 22:39:02 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-21 12:12:00-05:00
🔒 [2025-11-21 11:20] NVDQ SHORT 청산 @ $19.64 $18.99 (손익: -3.31%) - STOP_LOSS
📈 [2025-11-21 11:22] NVDA -> NVDX 롱 진입 @ $16.51 x 70.33
2025-12-03 22:39:03 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-24 09:30] NVDX LONG 청산 @ $16.51 $16.67 (손익: 0.96%) - FORCE_CLOSE
📉 [2025-11-24 09:32] NVDA -> NVDQ 숏 진입 @ $18.69 x 62.69
2025-12-03 22:39:03 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:39:08 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $18.69 $18.13 (손익: -3.01%)
2025-12-03 22:39:08 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $17.32 x 52.58
🔄 [2025-11-24 11:22] 전환 매매: NVDQ -> NVDX
2025-12-03 22:39:09 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-25 11:22:00-05:00
🔒 [2025-11-25 09:30] NVDX LONG 청산 @ $17.32 $15.82 (손익: -8.66%) - STOP_LOSS
📉 [2025-11-25 09:50] NVDA -> NVDQ 숏 진입 @ $20.09 x 52.93
2025-12-03 22:39:09 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:39:14 - trading_bot - INFO - 포지션 청산: NVDQ SHORT @ $20.09 $19.47 (손익: -3.11%)
2025-12-03 22:39:14 - trading_bot - INFO - 🔄 전환 매매 실행: NVDX -> NVDX (LONG) @ $16.01 x 51.55
🔄 [2025-11-25 11:42] 전환 매매: NVDQ -> NVDX
2025-12-03 22:39:15 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-28 09:30] NVDX LONG 청산 @ $16.01 $16.60 (손익: 3.65%) - FORCE_CLOSE
📉 [2025-11-28 09:42] NVDA -> NVDQ 숏 진입 @ $18.81 x 56.38
🔒 [2025-11-28 12:44] NVDQ SHORT 청산 @ $18.81 $19.13 (손익: 1.70%) - FINAL_CLOSE

======================================================================
📊 전환 매매 전략 백테스트 결과
======================================================================

💰 자본 변화
  초기 자본:     $    1,200.00
  최종 자본:     $    1,134.53
  총 손익:       $     -65.47 ( -5.46%)

📈 거래 통계
  총 거래 횟수:            33회
  전환 매매 횟수:           13회
  승리 거래:               13회 ( 39.39%)
  손실 거래:               20회 ( 60.61%)
  평균 수익:     $       65.38
  평균 손실:     $      -45.77

======================================================================

🔄 전환 매매 내역:
----------------------------------------------------------------------
1. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-10-17 14:22 | 가격: $18.28 | 이유: 손절 전환 (STOP_LOSS)
2. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-10-24 09:30 | 가격: $18.32 | 이유: 손절 전환 (STOP_LOSS)
3. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-10-31 09:30 | 가격: $22.82 | 이유: 손절 전환 (STOP_LOSS)
4. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-11-03 09:30 | 가격: $23.33 | 이유: 손절 전환 (STOP_LOSS)
5. NVDX (LONG) -> NVDQ (SHORT)
   시간: 2025-11-04 09:30 | 가격: $15.12 | 이유: 손절 전환 (STOP_LOSS)
6. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-11-10 09:30 | 가격: $20.06 | 이유: 손절 전환 (STOP_LOSS)
7. NVDX (LONG) -> NVDQ (SHORT)
   시간: 2025-11-11 10:52 | 가격: $16.51 | 이유: 손절 전환 (STOP_LOSS)
8. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-11-14 14:46 | 가격: $19.17 | 이유: 손절 전환 (STOP_LOSS)
9. NVDX (LONG) -> NVDQ (SHORT)
   시간: 2025-11-17 09:30 | 가격: $17.54 | 이유: 손절 전환 (STOP_LOSS)
10. NVDX (LONG) -> NVDQ (SHORT)
   시간: 2025-11-19 12:04 | 가격: $17.81 | 이유: 손절 전환 (STOP_LOSS)
11. NVDX (LONG) -> NVDQ (SHORT)
   시간: 2025-11-20 12:12 | 가격: $17.88 | 이유: 손절 전환 (STOP_LOSS)
12. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-11-24 11:22 | 가격: $17.32 | 이유: 손절 전환 (STOP_LOSS)
13. NVDQ (SHORT) -> NVDX (LONG)
   시간: 2025-11-25 11:42 | 가격: $16.01 | 이유: 손절 전환 (STOP_LOSS)

======================================================================


✅ 백테스트 완료!
   총 거래: 33회
   전환 매매: 13회
   최종 자본: $1,134.53
   총 손익: $-65.47

2025-12-03 22:34:30 - trading_bot - INFO - 전환 매매 전략 초기화: {'symbol': 'TSLA', 'capital': 1200, 'stop_loss_rate': -0.03, 'take_profit_rate': 0.1, 'reverse_trigger': True, 'reverse_mode': 'full', 'reverse_delay': 5, 'reverse_risk_factor': 0.8, 'long_max_hold_days': 3, 'short_max_hold_days': 1, 'lookback_window': 5, 'volatility_threshold': 0.1, 'cooldown_period': 1, 'reversal_limit': 2, 'max_drawdown': 0.1, 'trailing_stop': True, 'reverse_confirmation': True, 'price_momentum': 0.02, 'volume_threshold': 0.4, 'market_sentiment_index': 0.0}

🚀 전환 매매 전략 백테스트 시작
   원본 주식: TSLA
   롱 ETF: TSLL
   숏 ETF: TSLZ
   기간: 2024-11-01 ~ 2025-11-29
   간격: 2m


======================================================================
전환 매매 전략 백테스트 시작
원본 주식: TSLA -> TSLL/TSLZ
기간: 2024-11-01 ~ 2025-11-29
초기 자본: $1200.00
======================================================================

데이터 수집 중...
✅ 데이터 수집 완료: 원본 5759개, 롱 5759개, 숏 5739개

📉 [2025-10-17 11:12] TSLA -> TSLZ 숏 진입 @ $14.45 x 78.90
2025-12-03 22:34:34 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:34:39 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $14.45 $14.01 (손익: -3.06%)
2025-12-03 22:34:39 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $20.25 x 43.73
🔄 [2025-10-17 14:20] 전환 매매: TSLZ -> TSLL
2025-12-03 22:34:39 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-20 09:30] TSLL LONG 청산 @ $20.25 $20.45 (손익: 1.01%) - FORCE_CLOSE
📈 [2025-10-20 09:42] TSLA -> TSLL 롱 진입 @ $20.65 x 54.01
2025-12-03 22:34:40 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-22 09:30] TSLL LONG 청산 @ $20.65 $20.60 (손익: -0.24%) - FORCE_CLOSE
📉 [2025-10-22 09:34] TSLA -> TSLZ 숏 진입 @ $13.84 x 80.42
🔒 [2025-10-23 09:30] TSLZ SHORT 청산 @ $13.84 $15.45 (손익: 11.69%) - TAKE_PROFIT
📉 [2025-10-23 09:40] TSLA -> TSLZ 숏 진입 @ $15.15 x 81.61
2025-12-03 22:34:41 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:34:46 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $15.15 $14.68 (손익: -3.08%)
2025-12-03 22:34:46 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $19.24 x 49.92
🔄 [2025-10-23 11:08] 전환 매매: TSLZ -> TSLL
2025-12-03 22:34:47 - trading_bot - INFO - 최대 보유 기간 초과: 4일
🔒 [2025-10-27 09:30] TSLL LONG 청산 @ $19.24 $20.26 (손익: 5.32%) - FORCE_CLOSE
📈 [2025-10-27 09:40] TSLA -> TSLL 롱 진입 @ $20.62 x 60.55
2025-12-03 22:34:48 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-29 09:30] TSLL LONG 청산 @ $20.62 $22.24 (손익: 7.83%) - FORCE_CLOSE
📈 [2025-10-29 09:34] TSLA -> TSLL 롱 진입 @ $22.08 x 60.78
2025-12-03 22:34:49 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:34:54 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $22.08 $21.37 (손익: -3.21%)
2025-12-03 22:34:54 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $13.00 x 80.05
🔄 [2025-10-29 14:40] 전환 매매: TSLL -> TSLZ
2025-12-03 22:34:54 - trading_bot - INFO - 쿨다운 기간 중: 2025-10-30 14:40:00-04:00
🔒 [2025-10-29 15:06] TSLZ SHORT 청산 @ $13.00 $12.58 (손익: -3.23%) - STOP_LOSS
📈 [2025-10-29 15:16] TSLA -> TSLL 롱 진입 @ $22.06 x 57.52
2025-12-03 22:34:54 - trading_bot - INFO - 쿨다운 기간 중: 2025-10-30 14:40:00-04:00
🔒 [2025-10-30 09:30] TSLL LONG 청산 @ $22.06 $21.13 (손익: -4.22%) - STOP_LOSS
📉 [2025-10-30 09:40] TSLA -> TSLZ 숏 진입 @ $13.21 x 92.20
2025-12-03 22:34:55 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:00 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $13.21 $12.77 (손익: -3.37%)
2025-12-03 22:35:00 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $21.48 x 43.91
🔄 [2025-10-31 10:26] 전환 매매: TSLZ -> TSLL
2025-12-03 22:35:00 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-01 10:26:00-04:00
🔒 [2025-10-31 13:02] TSLL LONG 청산 @ $21.48 $20.81 (손익: -3.12%) - STOP_LOSS
📉 [2025-10-31 13:16] TSLA -> TSLZ 숏 진입 @ $13.34 x 86.31
2025-12-03 22:35:00 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-01 10:26:00-04:00
🔒 [2025-10-31 14:20] TSLZ SHORT 청산 @ $13.34 $12.91 (손익: -3.20%) - STOP_LOSS
📈 [2025-10-31 14:26] TSLA -> TSLL 롱 진입 @ $21.16 x 52.76
2025-12-03 22:35:01 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-03 09:30] TSLL LONG 청산 @ $21.16 $21.44 (손익: 1.33%) - FORCE_CLOSE
📈 [2025-11-03 09:32] TSLA -> TSLL 롱 진입 @ $21.48 x 52.63
2025-12-03 22:35:01 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:06 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $21.48 $20.73 (손익: -3.47%)
2025-12-03 22:35:06 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $13.08 x 66.84
🔄 [2025-11-04 09:34] 전환 매매: TSLL -> TSLZ
2025-12-03 22:35:06 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-05 09:34:00-05:00
🔒 [2025-11-04 09:52] TSLZ SHORT 청산 @ $13.08 $12.67 (손익: -3.14%) - STOP_LOSS
📈 [2025-11-04 10:00] TSLA -> TSLL 롱 진입 @ $21.58 x 49.45
2025-12-03 22:35:07 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-05 09:34:00-05:00
🔒 [2025-11-04 12:16] TSLL LONG 청산 @ $21.58 $20.84 (손익: -3.38%) - STOP_LOSS
📉 [2025-11-04 12:22] TSLA -> TSLZ 숏 진입 @ $12.96 x 79.67
2025-12-03 22:35:08 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:13 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $12.96 $12.53 (손익: -3.32%)
2025-12-03 22:35:13 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $21.48 x 37.24
🔄 [2025-11-05 13:18] 전환 매매: TSLZ -> TSLL
2025-12-03 22:35:13 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-06 13:18:00-05:00
🔒 [2025-11-06 10:32] TSLL LONG 청산 @ $21.48 $20.80 (손익: -3.17%) - STOP_LOSS
📉 [2025-11-06 10:46] TSLA -> TSLZ 숏 진입 @ $13.02 x 74.95
🔒 [2025-11-07 11:46] TSLZ SHORT 청산 @ $13.02 $14.32 (손익: 10.02%) - TAKE_PROFIT
📉 [2025-11-07 11:48] TSLA -> TSLZ 숏 진입 @ $14.31 x 74.69
2025-12-03 22:35:14 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:19 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $14.31 $13.86 (손익: -3.14%)
2025-12-03 22:35:19 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $19.17 x 43.27
🔄 [2025-11-07 13:56] 전환 매매: TSLZ -> TSLL
2025-12-03 22:35:19 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-10 09:30] TSLL LONG 청산 @ $19.17 $19.78 (손익: 3.18%) - FORCE_CLOSE
📈 [2025-11-10 09:34] TSLA -> TSLL 롱 진입 @ $19.34 x 54.92
2025-12-03 22:35:21 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-12 09:30] TSLL LONG 청산 @ $19.34 $19.57 (손익: 1.20%) - FORCE_CLOSE
📈 [2025-11-12 09:32] TSLA -> TSLL 롱 진입 @ $19.62 x 54.75
2025-12-03 22:35:21 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:26 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $19.62 $18.98 (손익: -3.29%)
2025-12-03 22:35:26 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $13.85 x 60.08
🔄 [2025-11-12 10:14] 전환 매매: TSLL -> TSLZ
🔒 [2025-11-13 10:24] TSLZ SHORT 청산 @ $13.85 $15.24 (손익: 10.03%) - TAKE_PROFIT
📈 [2025-11-13 10:28] TSLA -> TSLL 롱 진입 @ $17.12 x 65.40
2025-12-03 22:35:27 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:32 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $17.12 $16.54 (손익: -3.39%)
2025-12-03 22:35:32 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $15.64 x 55.46
🔄 [2025-11-13 11:40] 전환 매매: TSLL -> TSLZ
2025-12-03 22:35:33 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:38 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $15.64 $14.99 (손익: -4.13%)
2025-12-03 22:35:38 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $17.17 x 48.91
🔄 [2025-11-14 11:40] 전환 매매: TSLZ -> TSLL
2025-12-03 22:35:38 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-15 11:40:00-05:00
🔒 [2025-11-14 13:36] TSLL LONG 청산 @ $17.17 $16.63 (손익: -3.17%) - STOP_LOSS
📉 [2025-11-14 13:38] TSLA -> TSLZ 숏 진입 @ $15.46 x 66.27
2025-12-03 22:35:38 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-17 09:30] TSLZ SHORT 청산 @ $15.46 $15.61 (손익: 0.97%) - FORCE_CLOSE
📈 [2025-11-17 10:02] TSLA -> TSLL 롱 진입 @ $17.42 x 59.35
2025-12-03 22:35:39 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:44 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $17.42 $16.80 (손익: -3.57%)
2025-12-03 22:35:44 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $15.34 x 52.09
🔄 [2025-11-17 14:02] 전환 매매: TSLL -> TSLZ
2025-12-03 22:35:45 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-19 09:30] TSLZ SHORT 청산 @ $15.34 $15.51 (손익: 1.11%) - FORCE_CLOSE
📈 [2025-11-19 09:32] TSLA -> TSLL 롱 진입 @ $16.50 x 61.05
🔒 [2025-11-20 09:56] TSLL LONG 청산 @ $16.50 $18.21 (손익: 10.37%) - TAKE_PROFIT
📉 [2025-11-20 10:04] TSLA -> TSLZ 숏 진입 @ $13.95 x 79.32
🔒 [2025-11-20 12:10] TSLZ SHORT 청산 @ $13.95 $15.47 (손익: 10.90%) - TAKE_PROFIT
📉 [2025-11-20 12:20] TSLA -> TSLZ 숏 진입 @ $15.50 x 78.78
🔒 [2025-11-21 10:36] TSLZ SHORT 청산 @ $15.50 $17.11 (손익: 10.39%) - TAKE_PROFIT
📉 [2025-11-21 10:42] TSLA -> TSLZ 숏 진입 @ $16.89 x 79.43
2025-12-03 22:35:47 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:35:52 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $16.89 $16.37 (손익: -3.08%)
2025-12-03 22:35:52 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $15.65 x 66.57
🔄 [2025-11-21 11:40] 전환 매매: TSLZ -> TSLL
2025-12-03 22:35:53 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-24 09:30] TSLL LONG 청산 @ $15.65 $16.67 (손익: 6.51%) - FORCE_CLOSE
📈 [2025-11-24 09:40] TSLA -> TSLL 롱 진입 @ $16.79 x 81.41
2025-12-03 22:35:55 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-26 09:30] TSLL LONG 청산 @ $16.79 $17.96 (손익: 6.97%) - FORCE_CLOSE
📈 [2025-11-26 09:34] TSLA -> TSLL 롱 진입 @ $17.74 x 82.14
2025-12-03 22:35:55 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-28 09:30] TSLL LONG 청산 @ $17.74 $18.64 (손익: 5.06%) - FORCE_CLOSE
📈 [2025-11-28 09:40] TSLA -> TSLL 롱 진입 @ $18.45 x 82.77
🔒 [2025-11-28 12:44] TSLL LONG 청산 @ $18.45 $18.41 (손익: -0.26%) - FINAL_CLOSE

======================================================================
📊 전환 매매 전략 백테스트 결과
======================================================================

💰 자본 변화
  초기 자본:     $    1,200.00
  최종 자본:     $    1,603.80
  총 손익:       +$     403.80 (+ 33.65%)

📈 거래 통계
  총 거래 횟수:            39회
  전환 매매 횟수:           12회
  승리 거래:               17회 ( 43.59%)
  손실 거래:               22회 ( 56.41%)
  평균 수익:     $       66.52
  평균 손실:     $      -33.05

======================================================================

🔄 전환 매매 내역:
----------------------------------------------------------------------
1. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-10-17 14:20 | 가격: $20.25 | 이유: 손절 전환 (STOP_LOSS)
2. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-10-23 11:08 | 가격: $19.24 | 이유: 손절 전환 (STOP_LOSS)
3. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-10-29 14:40 | 가격: $13.00 | 이유: 손절 전환 (STOP_LOSS)
4. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-10-31 10:26 | 가격: $21.48 | 이유: 손절 전환 (STOP_LOSS)
5. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-04 09:34 | 가격: $13.08 | 이유: 손절 전환 (STOP_LOSS)
6. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-05 13:18 | 가격: $21.48 | 이유: 손절 전환 (STOP_LOSS)
7. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-07 13:56 | 가격: $19.17 | 이유: 손절 전환 (STOP_LOSS)
8. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-12 10:14 | 가격: $13.85 | 이유: 손절 전환 (STOP_LOSS)
9. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-13 11:40 | 가격: $15.64 | 이유: 손절 전환 (STOP_LOSS)
10. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-14 11:40 | 가격: $17.17 | 이유: 손절 전환 (STOP_LOSS)
11. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-17 14:02 | 가격: $15.34 | 이유: 손절 전환 (STOP_LOSS)
12. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-21 11:40 | 가격: $15.65 | 이유: 손절 전환 (STOP_LOSS)

======================================================================


✅ 백테스트 완료!
   총 거래: 39회
   전환 매매: 12회
   최종 자본: $1,603.80
   총 손익: $403.80

(base) chaehwan@chaehwan-900X5L:~/trading_bot$ python reversal_backtest.py
2025-12-03 22:36:05 - trading_bot - INFO - 전환 매매 전략 초기화: {'symbol': 'TSLA', 'capital': 1200, 'stop_loss_rate': -0.03, 'take_profit_rate': 0.1, 'reverse_trigger': True, 'reverse_mode': 'full', 'reverse_delay': 5, 'reverse_risk_factor': 0.8, 'long_max_hold_days': 2, 'short_max_hold_days': 1, 'lookback_window': 5, 'volatility_threshold': 0.1, 'cooldown_period': 1, 'reversal_limit': 2, 'max_drawdown': 0.1, 'trailing_stop': True, 'reverse_confirmation': True, 'price_momentum': 0.02, 'volume_threshold': 0.4, 'market_sentiment_index': 0.0}

🚀 전환 매매 전략 백테스트 시작
   원본 주식: TSLA
   롱 ETF: TSLL
   숏 ETF: TSLZ
   기간: 2024-11-01 ~ 2025-11-29
   간격: 2m


======================================================================
전환 매매 전략 백테스트 시작
원본 주식: TSLA -> TSLL/TSLZ
기간: 2024-11-01 ~ 2025-11-29
초기 자본: $1200.00
======================================================================

데이터 수집 중...
✅ 데이터 수집 완료: 원본 5759개, 롱 5759개, 숏 5739개

📉 [2025-10-17 11:12] TSLA -> TSLZ 숏 진입 @ $14.45 x 78.90
2025-12-03 22:36:09 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:36:14 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $14.45 $14.01 (손익: -3.06%)
2025-12-03 22:36:14 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $20.25 x 43.73
🔄 [2025-10-17 14:20] 전환 매매: TSLZ -> TSLL
2025-12-03 22:36:14 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-20 09:30] TSLL LONG 청산 @ $20.25 $20.45 (손익: 1.01%) - FORCE_CLOSE
📈 [2025-10-20 09:42] TSLA -> TSLL 롱 진입 @ $20.65 x 54.01
2025-12-03 22:36:15 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-22 09:30] TSLL LONG 청산 @ $20.65 $20.60 (손익: -0.24%) - FORCE_CLOSE
📉 [2025-10-22 09:34] TSLA -> TSLZ 숏 진입 @ $13.84 x 80.42
🔒 [2025-10-23 09:30] TSLZ SHORT 청산 @ $13.84 $15.45 (손익: 11.69%) - TAKE_PROFIT
📉 [2025-10-23 09:40] TSLA -> TSLZ 숏 진입 @ $15.15 x 81.61
2025-12-03 22:36:16 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:36:21 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $15.15 $14.68 (손익: -3.08%)
2025-12-03 22:36:21 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $19.24 x 49.92
🔄 [2025-10-23 11:08] 전환 매매: TSLZ -> TSLL
2025-12-03 22:36:22 - trading_bot - INFO - 최대 보유 기간 초과: 4일
🔒 [2025-10-27 09:30] TSLL LONG 청산 @ $19.24 $20.26 (손익: 5.32%) - FORCE_CLOSE
📈 [2025-10-27 09:40] TSLA -> TSLL 롱 진입 @ $20.62 x 60.55
2025-12-03 22:36:24 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-10-29 09:30] TSLL LONG 청산 @ $20.62 $22.24 (손익: 7.83%) - FORCE_CLOSE
📈 [2025-10-29 09:34] TSLA -> TSLL 롱 진입 @ $22.08 x 60.78
2025-12-03 22:36:24 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:36:29 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $22.08 $21.37 (손익: -3.21%)
2025-12-03 22:36:29 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $13.00 x 80.05
🔄 [2025-10-29 14:40] 전환 매매: TSLL -> TSLZ
2025-12-03 22:36:29 - trading_bot - INFO - 쿨다운 기간 중: 2025-10-30 14:40:00-04:00
🔒 [2025-10-29 15:06] TSLZ SHORT 청산 @ $13.00 $12.58 (손익: -3.23%) - STOP_LOSS
📈 [2025-10-29 15:16] TSLA -> TSLL 롱 진입 @ $22.06 x 57.52
2025-12-03 22:36:29 - trading_bot - INFO - 쿨다운 기간 중: 2025-10-30 14:40:00-04:00
🔒 [2025-10-30 09:30] TSLL LONG 청산 @ $22.06 $21.13 (손익: -4.22%) - STOP_LOSS
📉 [2025-10-30 09:40] TSLA -> TSLZ 숏 진입 @ $13.21 x 92.20
2025-12-03 22:36:30 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:36:35 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $13.21 $12.77 (손익: -3.37%)
2025-12-03 22:36:35 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $21.48 x 43.91
🔄 [2025-10-31 10:26] 전환 매매: TSLZ -> TSLL
2025-12-03 22:36:36 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-01 10:26:00-04:00
🔒 [2025-10-31 13:02] TSLL LONG 청산 @ $21.48 $20.81 (손익: -3.12%) - STOP_LOSS
📉 [2025-10-31 13:16] TSLA -> TSLZ 숏 진입 @ $13.34 x 86.31
2025-12-03 22:36:36 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-01 10:26:00-04:00
🔒 [2025-10-31 14:20] TSLZ SHORT 청산 @ $13.34 $12.91 (손익: -3.20%) - STOP_LOSS
📈 [2025-10-31 14:26] TSLA -> TSLL 롱 진입 @ $21.16 x 52.76
2025-12-03 22:36:36 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-03 09:30] TSLL LONG 청산 @ $21.16 $21.44 (손익: 1.33%) - FORCE_CLOSE
📈 [2025-11-03 09:32] TSLA -> TSLL 롱 진입 @ $21.48 x 52.63
2025-12-03 22:36:37 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:36:42 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $21.48 $20.73 (손익: -3.47%)
2025-12-03 22:36:42 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $13.08 x 66.84
🔄 [2025-11-04 09:34] 전환 매매: TSLL -> TSLZ
2025-12-03 22:36:42 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-05 09:34:00-05:00
🔒 [2025-11-04 09:52] TSLZ SHORT 청산 @ $13.08 $12.67 (손익: -3.14%) - STOP_LOSS
📈 [2025-11-04 10:00] TSLA -> TSLL 롱 진입 @ $21.58 x 49.45
2025-12-03 22:36:42 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-05 09:34:00-05:00
🔒 [2025-11-04 12:16] TSLL LONG 청산 @ $21.58 $20.84 (손익: -3.38%) - STOP_LOSS
📉 [2025-11-04 12:22] TSLA -> TSLZ 숏 진입 @ $12.96 x 79.67
2025-12-03 22:36:43 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:36:48 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $12.96 $12.53 (손익: -3.32%)
2025-12-03 22:36:48 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $21.48 x 37.24
🔄 [2025-11-05 13:18] 전환 매매: TSLZ -> TSLL
2025-12-03 22:36:48 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-06 13:18:00-05:00
🔒 [2025-11-06 10:32] TSLL LONG 청산 @ $21.48 $20.80 (손익: -3.17%) - STOP_LOSS
📉 [2025-11-06 10:46] TSLA -> TSLZ 숏 진입 @ $13.02 x 74.95
🔒 [2025-11-07 11:46] TSLZ SHORT 청산 @ $13.02 $14.32 (손익: 10.02%) - TAKE_PROFIT
📉 [2025-11-07 11:48] TSLA -> TSLZ 숏 진입 @ $14.31 x 74.69
2025-12-03 22:36:50 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:36:55 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $14.31 $13.86 (손익: -3.14%)
2025-12-03 22:36:55 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $19.17 x 43.27
🔄 [2025-11-07 13:56] 전환 매매: TSLZ -> TSLL
2025-12-03 22:36:55 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-10 09:30] TSLL LONG 청산 @ $19.17 $19.78 (손익: 3.18%) - FORCE_CLOSE
📈 [2025-11-10 09:34] TSLA -> TSLL 롱 진입 @ $19.34 x 54.92
2025-12-03 22:36:56 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-12 09:30] TSLL LONG 청산 @ $19.34 $19.57 (손익: 1.20%) - FORCE_CLOSE
📈 [2025-11-12 09:32] TSLA -> TSLL 롱 진입 @ $19.62 x 54.75
2025-12-03 22:36:56 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:37:01 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $19.62 $18.98 (손익: -3.29%)
2025-12-03 22:37:01 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $13.85 x 60.08
🔄 [2025-11-12 10:14] 전환 매매: TSLL -> TSLZ
🔒 [2025-11-13 10:24] TSLZ SHORT 청산 @ $13.85 $15.24 (손익: 10.03%) - TAKE_PROFIT
📈 [2025-11-13 10:28] TSLA -> TSLL 롱 진입 @ $17.12 x 65.40
2025-12-03 22:37:02 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:37:07 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $17.12 $16.54 (손익: -3.39%)
2025-12-03 22:37:07 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $15.64 x 55.46
🔄 [2025-11-13 11:40] 전환 매매: TSLL -> TSLZ
2025-12-03 22:37:08 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:37:13 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $15.64 $14.99 (손익: -4.13%)
2025-12-03 22:37:13 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $17.17 x 48.91
🔄 [2025-11-14 11:40] 전환 매매: TSLZ -> TSLL
2025-12-03 22:37:13 - trading_bot - INFO - 쿨다운 기간 중: 2025-11-15 11:40:00-05:00
🔒 [2025-11-14 13:36] TSLL LONG 청산 @ $17.17 $16.63 (손익: -3.17%) - STOP_LOSS
📉 [2025-11-14 13:38] TSLA -> TSLZ 숏 진입 @ $15.46 x 66.27
2025-12-03 22:37:14 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-17 09:30] TSLZ SHORT 청산 @ $15.46 $15.61 (손익: 0.97%) - FORCE_CLOSE
📈 [2025-11-17 10:02] TSLA -> TSLL 롱 진입 @ $17.42 x 59.35
2025-12-03 22:37:14 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:37:19 - trading_bot - INFO - 포지션 청산: TSLL LONG @ $17.42 $16.80 (손익: -3.57%)
2025-12-03 22:37:19 - trading_bot - INFO - 🔄 전환 매매 실행: TSLZ -> TSLZ (SHORT) @ $15.34 x 52.09
🔄 [2025-11-17 14:02] 전환 매매: TSLL -> TSLZ
2025-12-03 22:37:20 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-19 09:30] TSLZ SHORT 청산 @ $15.34 $15.51 (손익: 1.11%) - FORCE_CLOSE
📈 [2025-11-19 09:32] TSLA -> TSLL 롱 진입 @ $16.50 x 61.05
🔒 [2025-11-20 09:56] TSLL LONG 청산 @ $16.50 $18.21 (손익: 10.37%) - TAKE_PROFIT
📉 [2025-11-20 10:04] TSLA -> TSLZ 숏 진입 @ $13.95 x 79.32
🔒 [2025-11-20 12:10] TSLZ SHORT 청산 @ $13.95 $15.47 (손익: 10.90%) - TAKE_PROFIT
📉 [2025-11-20 12:20] TSLA -> TSLZ 숏 진입 @ $15.50 x 78.78
🔒 [2025-11-21 10:36] TSLZ SHORT 청산 @ $15.50 $17.11 (손익: 10.39%) - TAKE_PROFIT
📉 [2025-11-21 10:42] TSLA -> TSLZ 숏 진입 @ $16.89 x 79.43
2025-12-03 22:37:22 - trading_bot - INFO - 반전 지연: 5초 대기
2025-12-03 22:37:27 - trading_bot - INFO - 포지션 청산: TSLZ SHORT @ $16.89 $16.37 (손익: -3.08%)
2025-12-03 22:37:27 - trading_bot - INFO - 🔄 전환 매매 실행: TSLL -> TSLL (LONG) @ $15.65 x 66.57
🔄 [2025-11-21 11:40] 전환 매매: TSLZ -> TSLL
2025-12-03 22:37:28 - trading_bot - INFO - 최대 보유 기간 초과: 3일
🔒 [2025-11-24 09:30] TSLL LONG 청산 @ $15.65 $16.67 (손익: 6.51%) - FORCE_CLOSE
📈 [2025-11-24 09:40] TSLA -> TSLL 롱 진입 @ $16.79 x 81.41
2025-12-03 22:37:29 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-26 09:30] TSLL LONG 청산 @ $16.79 $17.96 (손익: 6.97%) - FORCE_CLOSE
📈 [2025-11-26 09:34] TSLA -> TSLL 롱 진입 @ $17.74 x 82.14
2025-12-03 22:37:30 - trading_bot - INFO - 최대 보유 기간 초과: 2일
🔒 [2025-11-28 09:30] TSLL LONG 청산 @ $17.74 $18.64 (손익: 5.06%) - FORCE_CLOSE
📈 [2025-11-28 09:40] TSLA -> TSLL 롱 진입 @ $18.45 x 82.77
🔒 [2025-11-28 12:44] TSLL LONG 청산 @ $18.45 $18.41 (손익: -0.26%) - FINAL_CLOSE

======================================================================
📊 전환 매매 전략 백테스트 결과
======================================================================

💰 자본 변화
  초기 자본:     $    1,200.00
  최종 자본:     $    1,603.80
  총 손익:       +$     403.80 (+ 33.65%)

📈 거래 통계
  총 거래 횟수:            39회
  전환 매매 횟수:           12회
  승리 거래:               17회 ( 43.59%)
  손실 거래:               22회 ( 56.41%)
  평균 수익:     $       66.52
  평균 손실:     $      -33.05

======================================================================

🔄 전환 매매 내역:
----------------------------------------------------------------------
1. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-10-17 14:20 | 가격: $20.25 | 이유: 손절 전환 (STOP_LOSS)
2. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-10-23 11:08 | 가격: $19.24 | 이유: 손절 전환 (STOP_LOSS)
3. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-10-29 14:40 | 가격: $13.00 | 이유: 손절 전환 (STOP_LOSS)
4. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-10-31 10:26 | 가격: $21.48 | 이유: 손절 전환 (STOP_LOSS)
5. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-04 09:34 | 가격: $13.08 | 이유: 손절 전환 (STOP_LOSS)
6. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-05 13:18 | 가격: $21.48 | 이유: 손절 전환 (STOP_LOSS)
7. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-07 13:56 | 가격: $19.17 | 이유: 손절 전환 (STOP_LOSS)
8. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-12 10:14 | 가격: $13.85 | 이유: 손절 전환 (STOP_LOSS)
9. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-13 11:40 | 가격: $15.64 | 이유: 손절 전환 (STOP_LOSS)
10. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-14 11:40 | 가격: $17.17 | 이유: 손절 전환 (STOP_LOSS)
11. TSLL (LONG) -> TSLZ (SHORT)
   시간: 2025-11-17 14:02 | 가격: $15.34 | 이유: 손절 전환 (STOP_LOSS)
12. TSLZ (SHORT) -> TSLL (LONG)
   시간: 2025-11-21 11:40 | 가격: $15.65 | 이유: 손절 전환 (STOP_LOSS)

======================================================================


✅ 백테스트 완료!
   총 거래: 39회
   전환 매매: 12회
   최종 자본: $1,603.80
   총 손익: $403.80   
```
